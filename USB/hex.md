## **Hex文件的记录格式如下：** 
### **[:][1字节长度][2字节地址][1字节记录类型][n字节数据段][1字节校验和]** 

|开头|长度域| 地址域|类型域|数据域|校验和域|
|:--:|:--:|:--:|:--:|:--:|:--:| 
| : | LL| aaaa| TT | D..D  | CC  |
|1字符|2字符(1字节)|4字符|2字符|LL长度字符|2字符|

> TT 类型域取值如下
> - '00'Data Rrecord：用来记录数据，HEX文件的大部分记录都是数据记录
> - '01'文件结束记录：用来标识文件结束，放在文件的最后
> - '02'扩展段地址记录：用来标识扩展段地址的记录
> - '03'开始段地址记录：开始段地址记录
> - '04'扩展线性地址记录：用来标识扩展线性地址的记录
> - '05'开始线性地址记录：开始线性地址记录

> CC 校验和计算方法
> - 校验和= 0x100-累加和(从每行除冒号和CC以外的所有字节累加和)


```cpp
:020000040800F2
:1000000068560D0081010000970100009501000075
...
:106F20005FBB1F7332CD4130F57628641BF6AF741A
:046F3000B880000025
:040000050802018963
:00000001FF
```

> **首行数据** :020000040800F2 
> + LL 02 示该行的数据字节数,如第1行只有D..D 08 00 两个字节的数据.
> + aaaa 0000表示本行数据的起始地址位.
> + TT 04 ，即该行记录的是一个拓展地址(0x08 0x00 是地址信息，用法是将该地址(0x0800<<16)后作为基地址。并且表示在下一个04类型行出现之前都要使用该地址.
> + CC F2 = 0xff&(0x100-(0x02+0x00+0x00+0x04+0x08+0x00))=0xff&(0x100-0xe)；

> **最后几行数据**:040000050802018963 
> + TT 05 ，即该行记录的是一个开始线性地址，其实他就是函数入口地址 **08020189**   
    例如 .map 文件中可以看到以下信息   
    Memory Map of the image   
    Image Entry point : **0x08020189**   
    ....   
    __Vectors_End   0x08020188   Data    0     ......
    __main          **0x08020189**   Thumb Code   0  entry.o(.ARM.Collect 00000000)   
    _main_stk      **0x08020189**   Thumb Code    0  entry2.o(.ARM.Collect 00000001)   
    _main_scatterload   0x0802018d   Thumb Code     0  entry5.o(.ARM.Collect 00000004)   
  ....  


> **最后一行数据** :00000001FF 
>   + TT 01 ， 表示文件结束.


